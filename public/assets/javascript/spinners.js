var spinners = [
    {
        slotWrap: $('#slot_wrapper1'),
        input: $('#random_location1'),
        selection: [
            {name: "Adoption Clinic"},
            {name: "Ambulance"},
            {name: "Antique Store"},
            {name: "Art Gallery"},
            {name: "Attic"},
            {name: "Australian Outback"},
            {name: "Back Yard"},
            {name: "Bad Neighborhood"},
            {name: "Bakery"},
            {name: "Balcony"},
            {name: "Barbershop"},
            {name: "Beaver Dam"},
            {name: "Bird's Nest"},
            {name: "Boat"},
            {name: "Bootcamp"},
            {name: "Butterly Habitat"},
            {name: "Cafe"},
            {name: "Castle"},
            {name: "Cat Lady's House"},
            {name: "Cave"},
            {name: "Cheese Factory"},
            {name: "Chiropractor's Office	"},
            {name: "Circus	"},
            {name: "Classroom	"},
            {name: "Dance Studio	"},
            {name: "Desert	"},
            {name: "Dragon's Lair	"},
            {name: "Egypt	"},
            {name: "Elephant Sanctuary	"},
            {name: "Execution Chamber	"},
            {name: "Fire Station	"},
            {name: "Fishing Pond	"},
            {name: "Football Stadium	"},
            {name: "Fortune Teller's Shop	"},
            {name: "Front Yard	"},
            {name: "Garage	"},
            {name: "Garbage Dump	"},
            {name: "Ghost Town	"},
            {name: "Goldmine	"},
            {name: "Golf Course	"},
            {name: "Gondola	"},
            {name: "Grand Canyon	"},
            {name: "Grocery Store	"},
            {name: "Gypsy Camp	"},
            {name: "Hardware Store	"},
            {name: "Hawaii	"},
            {name: "Helicopter Pad	"},
            {name: "Henhouse	"},
            {name: "Hogwarts	"},
            {name: "Hospital	"},
            {name: "Ice Cream Shop	"},
            {name: "Iceberg	"},
            {name: "Igloo	"},
            {name: "Inside a Blimp	"},
            {name: "Jet Pilot's Cockpit	"},
            {name: "Jewelry Store	"},
            {name: "Judge's Chambers	"},
            {name: "Jungle	"},
            {name: "Jury Box	"},
            {name: "Kangaroo Farm	"},
            {name: "Karaoke Bar	"},
            {name: "Karate Class	"},
            {name: "King Kong's Cage	"},
            {name: "Lagoon	"},
            {name: "Laundromat	"},
            {name: "Library	"},
            {name: "Lifeboat	"},
            {name: "Lighthouse	"},
            {name: "London	"},
            {name: "Make-up Counter	"},
            {name: "Marathon Finish Line	"},
            {name: "Mechanic's Shop	"},
            {name: "Middle of the Sea	"},
            {name: "Moon	"},
            {name: "Mountain Top	"},
            {name: "Mummy's Tomb	"},
            {name: "Nature Trail	"},
            {name: "Neverland	"},
            {name: "News Station	"},
            {name: "Newspaper Office	"},
            {name: "Nightclub	"},
            {name: "Nursing Home	"},
            {name: "Office Cubicle	"},
            {name: "Open House	"},
            {name: "Optometrist	"},
            {name: "Orchard	"},
            {name: "Orchestra Pit	"},
            {name: "Panda Exhibit	"},
            {name: "Pet Store	"},
            {name: "Photography Class	"},
            {name: "Picnic Spot	"},
            {name: "Pirate Ship	"},
            {name: "Police Station	"},
            {name: "Post Office	"},
            {name: "Prom	"},
            {name: "Rainforest	"},
            {name: "Recording Studio	"},
            {name: "Red Carpet	"},
            {name: "Restaurant	"},
            {name: "Riverboat	"},
            {name: "Santa's Workshop	"},
            {name: "School Lunchroom	"},
            {name: "School Nurse's Office	"},
            {name: "Ski Slope	"},
            {name: "Smurf Village	"},
            {name: "Softball Game	"},
            {name: "Spaceship	"},
            {name: "Spaceship	"},
            {name: "Stable	"},
            {name: "State Fair	"},
            {name: "Submarine	"},
            {name: "Summer Camp	"},
            {name: "Thrift Store	"},
            {name: "Tidepool	"},
            {name: "Travel Agency	"},
            {name: "Treehouse	"},
            {name: "Tropical Island	"},
            {name: "Truckstop	"},
            {name: "TV Show Set	"},
            {name: "Underground	"},
            {name: "Underwater	"},
            {name: "Unemployment Office	"},
            {name: "Unicorn Forest	"},
            {name: "Utopian Society	"},
            {name: "Vampire's Home	"},
            {name: "Volcano	"},
            {name: "Volleyball Court	"},
            {name: "Voting Booth	"},
            {name: "Warehouse	"},
            {name: "Water Park	"},
            {name: "Wedding Chapel	"},
            {name: "Western Saloon	"},
            {name: "White House	"},
            {name: "Witch's Cavern	"},
            {name: "Wrestling Ring	"},
            {name: "X-Ray Lab	"},
            {name: "Yoga Studio	"},
            {name: "Zombie Vacation Spot	"},
            {name: "Zoo	"}
        ],
        spinEvent: 'spin1',
        slotSelect: '#slot1',
        spinWrap: '.jSlots-wrapper1',
        num: 1
    },
    {
        slotWrap: $('#slot_wrapper2'),
        input: $('#random_location2'),
        selection: [
            {name: "	Air Freshener	"},
            {name: "	Apple	"},
            {name: "	Bag	"},
            {name: "	Balloon	"},
            {name: "	Bananas	"},
            {name: "	Bed	"},
            {name: "	Beef	"},
            {name: "	Blanket	"},
            {name: "	Blouse	"},
            {name: "	Book	"},
            {name: "	Bookmark	"},
            {name: "	Boom Box	"},
            {name: "	Bottle	"},
            {name: "	Bottle Cap	"},
            {name: "	Bow	"},
            {name: "	Bowl	"},
            {name: "	Box	"},
            {name: "	Bracelet	"},
            {name: "	Bread	"},
            {name: "	Broccoli	"},
            {name: "	Button	"},
            {name: "	Camera	"},
            {name: "	Candle	"},
            {name: "	Candy Wrapper	"},
            {name: "	Canvas	"},
            {name: "	Car	"},
            {name: "	Carrots	"},
            {name: "	Cat	"},
            {name: "	CD	"},
            {name: "	Cell Phone	"},
            {name: "	Chair	"},
            {name: "	Chalk	"},
            {name: "	Chapter Book	"},
            {name: "	Charger	"},
            {name: "	Checkbook	"},
            {name: "	Chocolate	"},
            {name: "	Clamp	"},
            {name: "	Clay Pot	"},
            {name: "	Clock	"},
            {name: "	Clothes	"},
            {name: "	Coasters	"},
            {name: "	Computer	"},
            {name: "	Conditioner	"},
            {name: "	Controller	"},
            {name: "	Cookie Jar	"},
            {name: "	Cork	"},
            {name: "	Couch	"},
            {name: "	Credit Card	"},
            {name: "	Cup	"},
            {name: "	Deodorant	"},
            {name: "	Desk	"},
            {name: "	Doll	"},
            {name: "	Door	"},
            {name: "	Drawer	"},
            {name: "	Drill Press	"},
            {name: "	Eraser	"},
            {name: "	Eye Liner	"},
            {name: "	Fake Flowers	"},
            {name: "	Flag	"},
            {name: "	Floor	"},
            {name: "	Flowers	"},
            {name: "	Food	"},
            {name: "	Fork	"},
            {name: "	Fridge	"},
            {name: "	Glass	"},
            {name: "	Glasses	"},
            {name: "	Glow Stick	"},
            {name: "	Greeting Card	"},
            {name: "	Grid Paper	"},
            {name: "	Hair Tie	"},
            {name: "	Hanger	"},
            {name: "	Headphones	"},
            {name: "	Helmet	"},
            {name: "	House	"},
            {name: "	Ice Cube Tray	"},
            {name: "	iPod	"},
            {name: "	Keyboard	"},
            {name: "	Keychain	"},
            {name: "	Keys	"},
            {name: "	Knife	"},
            {name: "	Lace	"},
            {name: "	Lamp	"},
            {name: "	Lamp Shade	"},
            {name: "	Leg Warmers	"},
            {name: "	Lip Gloss	"},
            {name: "	Lotion	"},
            {name: "	Magnet	"},
            {name: "	Milk	"},
            {name: "	Mirror	"},
            {name: "	Model Car	"},
            {name: "	Money	"},
            {name: "	Monitor	"},
            {name: "	Mop	"},
            {name: "	Mouse Pad	"},
            {name: "	MP3 Player	"},
            {name: "	Nail Clippers	"},
            {name: "	Nail File	"},
            {name: "	Needle	"},
            {name: "	Newspaper	"},
            {name: "	Outlet	"},
            {name: "	Packing Peanuts	"},
            {name: "	Paint Brush	"},
            {name: "	Pants	"},
            {name: "	Paper	"},
            {name: "	Pen	"},
            {name: "	Pencil	"},
            {name: "	Perfume	"},
            {name: "	Phone	"},
            {name: "	Photo Album	"},
            {name: "	Piano	"},
            {name: "	Picture Frame	"},
            {name: "	Pillow	"},
            {name: "	Plastic Fork	"},
            {name: "	Plate	"},
            {name: "	Playing Card	"},
            {name: "	Pool Stick	"},
            {name: "	Post-it Note	"},
            {name: "	Puddle	"},
            {name: "	Purse	"},
            {name: "	Radio	"},
            {name: "	Remote	"},
            {name: "	Ring	"},
            {name: "	Rubber Band	"},
            {name: "	Rubber Duck	"},
            {name: "	Rug	"},
            {name: "	Rusty Nail	"},
            {name: "	Sailboat	"},
            {name: "	Sand Paper	"},
            {name: "	Sandal	"},
            {name: "	Scotch Tape	"},
            {name: "	Screw	"},
            {name: "	Seat Belt	"},
            {name: "	Shampoo	"},
            {name: "	Sharpie	"},
            {name: "	Shirt	"},
            {name: "	Shoes	"},
            {name: "	Shovel	"},
            {name: "	Sidewalk	"},
            {name: "	Sketch Pad	"},
            {name: "	Slipper	"},
            {name: "	Soap	"},
            {name: "	Socks	"},
            {name: "	Soda Can	"},
            {name: "	Sofa	"},
            {name: "	Soy Sauce Packet	"},
            {name: "	Speakers	"},
            {name: "	Sponge	"},
            {name: "	Spoon	"},
            {name: "	Spring	"},
            {name: "	Stockings	"},
            {name: "	Stop Sign	"},
            {name: "	Street Lights	"},
            {name: "	Sun Glasses	"},
            {name: "	Table	"},
            {name: "	Teddy Bear	"},
            {name: "	Thermometer	"},
            {name: "	Thermostat	"},
            {name: "	Thread	"},
            {name: "	Tire Swing	"},
            {name: "	Toe Ring	"},
            {name: "	Toilet	"},
            {name: "	Tomato	"},
            {name: "	Toothbrush	"},
            {name: "	Toothpaste	"},
            {name: "	Toothpicks	"},
            {name: "	Towel	"},
            {name: "	Tree	"},
            {name: "	Truck	"},
            {name: "	TV	"},
            {name: "	Tweezers	"},
            {name: "	USB Drive	"},
            {name: "	Vase	"},
            {name: "	Video Games	"},
            {name: "	Wagon	"},
            {name: "	Wallet	"},
            {name: "	Washing Machine	"},
            {name: "	Watch	"},
            {name: "	Water Bottle	"},
            {name: "	White Out	"},
            {name: "	Window	"},
            {name: "	Zipper	"}
        ],
        spinEvent: 'spin2',
        slotSelect: '#slot2',
        spinWrap: '.jSlots-wrapper2',
        num: 2

    },
    {
        slotWrap: $('#slot_wrapper3'),
        input: $('#random_location3'),
        selection: [
            {name: "	$5 Bill and $100 Bill	"},
            {name: "	Actor and Director	"},
            {name: "	Actor and Double	"},
            {name: "	Aging Lovers	"},
            {name: "	Alice and the White Rabbit	"},
            {name: "	Astronaut and Alien	"},
            {name: "	Batman and Robin	"},
            {name: "	Blood cell and Bacterium	"},
            {name: "	Brother and Sister	"},
            {name: "	Buddha and Christ	"},
            {name: "	Bus Driver and Passenger	"},
            {name: "	Celebrity and Fan	"},
            {name: "	Cowboy and Indian	"},
            {name: "	Defendant and Judge	"},
            {name: "	Demon and Angel	"},
            {name: "	Detective and Criminal	"},
            {name: "	Director and Producer	"},
            {name: "	Doctor and Nurse	"},
            {name: "	Doctor and Patient	"},
            {name: "	Dog and Bone	"},
            {name: "	Ex-husband and New Man	"},
            {name: "	Ex-wife and New Woman	"},
            {name: "	Father and Child	"},
            {name: "	Fish and Worm	"},
            {name: "	Frog and Princess	"},
            {name: "	Gay Couple	"},
            {name: "	God and Devil	"},
            {name: "	God and Mortal	"},
            {name: "	Guard and Prisoner	"},
            {name: "	Hairdresser and Customer	"},
            {name: "	Judge and Lawyer	"},
            {name: "	Lawyer and Client	"},
            {name: "	Love Triangle	"},
            {name: "	Married Couple	"},
            {name: "	Mechanic and Customer	"},
            {name: "	Mother and Child	"},
            {name: "	PC and User	"},
            {name: "	Pilot and CoPilot	"},
            {name: "	Pilot and Crewmember	"},
            {name: "	Pilot and Passenger	"},
            {name: "	Policeman and Driver	"},
            {name: "	Politician and Voter	"},
            {name: "	Pope and Cardinal	"},
            {name: "	President and Cabinet	"},
            {name: "	Priest and Altar Boy	"},
            {name: "	Priest and Parishioner	"},
            {name: "	Psychopath and Victim	"},
            {name: "	Rat and Lab Scientist	"},
            {name: "	Robot and Creator	"},
            {name: "	Seller and Buyer	"},
            {name: "	Sheriff and Gangster	"},
            {name: "	Spermium and Egg cell	"},
            {name: "	Tailor and Customer	"},
            {name: "	Teacher and Headmaster	"},
            {name: "	Teacher and Parent(s)	"},
            {name: "	Teacher and Pupil	"},
            {name: "	Terrorist and Hostage	"},
            {name: "	The First Engagement	"},
            {name: "	Ventriloquist and Doll	"},
            {name: "	Veterinarian and Pet	"},
            {name: "	Waiter and Guest	"}
        ],
        spinEvent: 'spin3',
        slotSelect: '#slot3',
        spinWrap: '.jSlots-wrapper3',
        num: 3

    }];

$(function () {

    var random_index;
    //make list for slots recursively and call spin when complete
    function makeSlotList(list, spinner) {
        //could choose one random index and then populate with next 18 values instead, but need to account for looping at end
        if (list.length < 20) {//length chosen based on appearance of spin, can be changed
            var index = _.random(spinner.selection.length - 1);
            if (list.length === 1) {
                /*
                 This index will be second item in the list, which is our winning number
                 Save this for future reference
                 Instead of saving it, we could get the index attribute from the list item we end on
                 */
                random_index = index;
            }
            list.push('<li index=' + _.random(spinner.selection.length - 1) + '>' + spinner.selection[index].name.trim() + '</li>');
            return makeSlotList(list, spinner);
        } else {
            //slot list is complete
            //clear search field
            spinner.input.val('');
            //attach list, show jslots, run animation
            $(spinner.slotSelect).html(list.join('')).parent().show().trigger(spinner.spinEvent);
            return list;
        }
    }

    //before spinning, build out list to spin through and insert into the DOM
    function makeSlots(spinner) {
        //start with current value
        var list = ['<li>' + spinner.input.val() + '</li>'];
        //call recursive list builder that won't spin slots until it's finished
        makeSlotList(list, spinner);
    }

    $.each(spinners, function (index) {
        $(spinners[index].slotSelect).jSlots({
            number: spinners[index].num,
            spinner: spinners[index].spinWrap,
            spinEvent: spinners[index].spinEvent,
            time: 300,
            loops: 1,
            endNum: 2,//spins backwards through the list. endNum 1 ends on the same value we started on
            onEnd: function (finalElement) {
                //set result
                spinners[index].input.val(spinners[index].selection[random_index].name.trim());
                //hide spinner
                $(this.spinner).hide();
            }
        });
    });
    //bind random button
    spinners[0].slotWrap.on('click', function () {
        if (spinners[0].input.val() === "") makeSlots(spinners[0]);
        else spinners[0].input.val("");
    });
    spinners[1].slotWrap.on('click', function () {
        if (spinners[1].input.val() === "") makeSlots(spinners[1]);
        else spinners[1].input.val("");
    });
    spinners[2].slotWrap.on('click', function () {
        if (spinners[2].input.val() === "") makeSlots(spinners[2]);
        else spinners[2].input.val("");
    });
});